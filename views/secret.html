<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<style>
    .card {
        border: 2px solid black;
        border-radius: 1%;
        margin-top: 20px;
    }
    
    .navbar-nav {
        font-size: 18px;
    }
    
    .thumbnail {
        border: none;
    }
    
    #secretInput {
        width: 100%;
    }
    
    .fa-heart {
        color: #ff6666;
    }
    
    .fa-heart-o {
        color: #ff3333;
    }
</style>

<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Logo Himitsu</a>
        </div>

        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a>Home</a></li>
                <li><a ng-click="ownSecret()">Secrets</a></li>
                <li><a ng-click="contact()">Contact</a></li>
                <li><a ng-click="about()">About</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li><a href="#"><span class="glyphicon glyphicon-user"></span> {{user.firstName}} {{user.lastName}}</a></li>
                <li><a href="#"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container">

    <form>
        <label> Secret: </label>
        <textarea class="form-control" id="secretInput" placeholder="input your secret" ng-model="secretOne.content" rows="3"></textarea>
        <div>
            <img id="avatarSetting" width="140" height="160" style="border-radius:5%" src="views/images/avatar-default.png" ng-show="false">
            <label class="fa fa-camera" aria-hidden="true">
                <input type="file" style="display:none" alt="image" id="secretImage" accept="image/gif, image/jpeg, image/png">
            </label>
        </div>

        <div class="checkbox">
            <label>
                <input type="checkbox" ng-model="secretOne.isPublic"> isPublic
            </label>
        </div>

        <div>
            <form class="form-inlne">

                <div class="form-group">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="secretOne.isAnonymous">isAnonymous
                        </label>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <button type="button" class="btn btn-info btn-lg col-md-offset-11 col-xs-offset-8" ng-click="createSecret()">Submit</button>
                    </div>
                </div>

            </form>
        </div>
    </form>

    <label>Secrets are :</label>

    <div>

        <div class="thumbnail" ng-model="secretData" ng-repeat="secret in secretData" ng-show="mySecret">
            <a class="pull-right" ng-click="mySecret = !mySecret" ng-model="mySecret" ng-init="mySecret = true"><span class="glyphicon glyphicon-remove"></span></a>
            <div class="well">
                <p class="bg-info">" {{secret.content}} "</p>
                <p class="pull-right"> - {{secret.createdAt | date}}</p>
                <p><span class="glyphicon glyphicon-user"></span> {{secret.owner.firstName}}</p>

                <a><i class="fa fa-comment" aria-hidden="false" data-target="#myComment" data-toggle="collapse"></i><span class="label label-danger"></span></a>

                <a data-toggle="modal" data-target="#myFarward"><i class="fa fa-share" aria-hidden="true"></i></a>

                <a><i class="fa fa-heart" aria-hidden="true"></i></a>

                <div id="myComment">
                    <input class="collapse in form-control" placeholder="input your comments">
                    <div class="form-group">
                        <button type="button" class="btn btn-sm btn-danger col-xs-offset-9 col-md-offset-11 col-lg-offset-11" style="margin-top:5px">Comment</button>
                    </div>
                </div>


                <i class="fa fa-heart-o" aria-hidden="true"></i>
                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                <i class="fa fa-paper-plane" aria-hidden="true"></i>

                <!-- mycomment modal -->
                <div id="myFarward" class="modal fade" role="dialog">
                    <div class="modal-dialog">
                        <!-- modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Forward the Secret</h4>

                            </div>
                            <div class="modal-body">

                                <p class="bg-info">" {{secret.content}} "</p>
                                <textarea placeholder="please input your message" class="form-control"></textarea>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-danger" ng-click="createForward()">Forward</button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $("#secretImage").change(function (e) {
            var file = e.originalEvent.srcElement.files[0];
            var img = document.createElement("img");
            var reader = new FileReader();
            //                reader.onloadend = function () {
            //                    img.src = reader.result;
            //                }
            reader.onload = function (e) {
                $("#avatarSetting").show().attr('src', e.target.result);
            }
            reader.readAsDataURL(file);
            $("#personalImage").after(img);
        });



    })
</script>